!function(t){var e={};function r(s){if(e[s])return e[s].exports;var i=e[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(s,i,function(e){return t[e]}.bind(null,i));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e){const r=Math.sqrt(3);class s{constructor(t){for(var e of(this.hexagons={},Object.keys(this.default_options)))void 0===this[e]&&(void 0!==t[e]?this[e]=t[e]:this[e]=this.default_options[e]);this.generateHexagons()}setRadius(t){this.radius=t,this.generateHexagons()}generateHexagons(){this.hexagons={},this.center.area(this.radius).forEach(t=>this.hexagons[t.toString()]={node:t,data:{}})}calculateHexRadius(t=100,e=100,s=this.radius){var i=2*s+1,n=t/(.5+1.5*i),a=e/(r*i);return Math.min(n,a)}}s.default_options={center:new node.HexNode(0,0),radius:5},t.exports={BaseBaseHexGrid:s}},function(t,e,r){var s=r(2),i=r(3);window.hex=t.exports={grid:i,HexGrid:i.HexGrid,HexGridBase:i.CanvasHexGrid,HexNode:s.HexNode,HexNodeType:s.HexNodeType}},function(t,e){const r={FLAT_TOP:0,POINTED_TOP:1},s=Math.sqrt(3),i=s/2,n=s/3;t.exports={HexNode:class{constructor(t,e){this.q=t,this.r=e,this.type=r.FLAT_TOP}[Symbol.toPrimitive](t){return this.toString()}static from_cube(t){var e=t.x,r=t.z;return this.constructor(e,r)}static from_cartesian(t,e,s,i){var a,o;return i=void 0===i||i,(s=void 0===s?r.FLAT_TOP:s)==r.FLAT_TOP?(a=2*t.x/(3*e),o=(-t.x/3+n*t.y)/(1*e)):(a=(n*t.x-t.y/3)/(1*e),o=2*t.y/(3*e)),new this(a,o).round()}toString(){return"HexNode("+this.q+","+this.r+")"}get s(){return-this.q-this.r}x(t){return this.type==r.FLAT_TOP?1.5*t*this.q:(x=t*(s*this.q+i*this.r),x)}y(t){return this.type==r.FLAT_TOP?t*(i*this.q+s*this.r):1.5*t*this.r}round(){var t=Math.round(this.q),e=Math.round(this.r),r=Math.round(this.s),s=Math.abs(s-this.q),i=Math.abs(i-this.r),n=Math.abs(n-this.s);return s>n&&s>i?t=-e-r:n>i?r=-t-e:e=-t-r,new this.constructor(t,e)}to_cube(){return{x:this.q,y:this.s,z:this.r}}to_cartesian(t){var e,n;return this.type==r.FLAT_TOP?(e=1.5*t*this.q,n=t*(i*this.q+s*this.r)):(e=t*(s*this.q+i*this.r),n=1.5*t*this.r),{x:e,y:n}}area(t){for(var e=[],r=-t;r<=t;r++)for(var s=Math.max(-t,-r-t),i=Math.min(t,-r+t),n=s;n<=i;n++){var a=-r-n;e.push(new this.constructor(this.q+r,this.r+a))}return e}__eq__(t){return t.q==this.q&&t.r==this.r}neighbours(){return this.area(1).filter(t=>!this.__eq__(t))}add(t){return new this.constructor(this.q+t.q,this.r+t.r)}subtract(t){return new this.constructor(this.q-t.q,this.r-t.r)}dot(t){return new this.constructor(this.q*t,this.r*t)}lerp(t,e){var r=t.subtract(this);return this.add(r.dot(e))}},HexNodeType:r}},function(t,e,r){var s=r(0),i=r(4);t.exports={base:s,canvas:i,BaseHexGrid:BaseHexGrid,CanvasHexGrid:i.CanvasHexGrid}},function(t,e,r){var s=r(0);function i(t,e,r,s){t.beginPath(),t.moveTo(e+s,r);for(var i=1;i<6;i+=1)t.lineTo(e+s*Math.cos(Math.PI*i/3),r+s*Math.sin(Math.PI*i/3));t.closePath()}function n(t,e,r,s){i(t,e,r,s),t.stroke()}class a extends s.BaseHexGrid{constructor(t,e){this.canvas=t,this.ctx=t.getContext("2d"),super(e)}get hexgonRadius(){return calculateHexRadius(this.canvas.width-this.canvasPadding.x,this.canvas.height-this.canvasPadding.y)}renderHexagon(t,e,r,s){var i=this.hexagonRadius;this.ctx.save(),this.ctx.strokeStyle="black",n(this.ctx,e.x,e.y,i),this.ctx.restore()}render(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);var t=this.hexagonRadius,e=this.canvas.width/2,r=this.canvas.height/2;for(var s of Object.values(this.hexagons)){var i=s.node.to_cartesian(t);i.x-=e,i.y-=r,this.renderHexagon(s.node,i,s.data)}}}a.default_options=Object.assign({},s.BaseHexGrid.default_options,{canvasPadding:{x:5,y:5}}),t.exports={CanvasHexGrid:a,pathHexagon:i,fillHexagon:function(t,e,r,s){i(t,e,r,s),t.fill()},strokeHexagon:n}}]);
//# sourceMappingURL=hex.js.map